schema: '2.0'
stages:
  fetch_data:
    cmd: python src/data/fetch_data.py
    deps:
    - path: src/data/fetch_data.py
      hash: md5
      md5: 5867135077809f48fce60c83bb9fc0f9
      size: 6465
    outs:
    - path: data/raw
      hash: md5
      md5: a7287b0226ff86379dba0a201537ba68.dir
      size: 133385
      nfiles: 69
  preprocess_and_combine:
    cmd: python src/data/preprocess_data.py
    deps:
    - path: data/raw
      hash: md5
      md5: a7287b0226ff86379dba0a201537ba68.dir
      size: 133385
      nfiles: 69
    - path: src/data/preprocess_data.py
      hash: md5
      md5: 0442e88ad2aafa41bdd5e3cc45e3d4e2
      size: 4855
    outs:
    - path: data/processed/combined
      hash: md5
      md5: 4477fb9c0d8de8caaceab87ecc4e0347.dir
      size: 2116361
      nfiles: 34
    - path: data/processed/mbajk
      hash: md5
      md5: 3549450a277d29871116263a5641ad87.dir
      size: 18807
      nfiles: 34
    - path: data/processed/weather
      hash: md5
      md5: ffdfd729bf04f2c3a6aa8556d03d19ba.dir
      size: 99755
      nfiles: 34
  final_processing:
    cmd: python src/data/final_processing.py
    deps:
    - path: data/processed/combined
      hash: md5
      md5: 4477fb9c0d8de8caaceab87ecc4e0347.dir
      size: 2116361
      nfiles: 34
    - path: src/data/final_processing.py
      hash: md5
      md5: e44f552aca4a1680161aebb0f1d65a67
      size: 1469
    outs:
    - path: data/processed/test
      hash: md5
      md5: 36da0e40f94fc6a0dac1cf77cfabecf6.dir
      size: 215132
      nfiles: 34
    - path: data/processed/train
      hash: md5
      md5: 09b1fdbe2b3b63eafc54746105fe2215.dir
      size: 1905989
      nfiles: 34
  generate_data_files:
    cmd: python src/data/generate_data_files.py
    deps:
    - path: data/processed/combined
      hash: md5
      md5: 4477fb9c0d8de8caaceab87ecc4e0347.dir
      size: 2116361
      nfiles: 34
    - path: src/data/generate_data_files.py
      hash: md5
      md5: bcf2aa855f3e73137871a6ea070f20be
      size: 1515
    outs:
    - path: data/processed/current_data.csv
      hash: md5
      md5: e332cc86495fac15f4195d5a891ea9bd
      size: 2111741
    - path: data/processed/reference_data.csv
      hash: md5
      md5: e332cc86495fac15f4195d5a891ea9bd
      size: 2111741
  validate_data:
    cmd: python src/data/validate_data.py
    deps:
    - path: data/processed/current_data.csv
      hash: md5
      md5: 4cf0166d741bf7f8c2779df43058ce9b
      size: 2517
    - path: src/data/validate_data.py
      hash: md5
      md5: 3ffe897d8cea137932736518eb5daf41
      size: 2171
    outs:
    - path: reports/current_data_validation_report.json
      hash: md5
      md5: b77605f75cfc52f53bbf25650521fd22
      size: 10750
    - path: reports/reference_data_validation_report.json
      hash: md5
      md5: e23450472ea7848fd00cd89ff56659da
      size: 10750
  test_data:
    cmd: python src/data/test_data.py
    deps:
    - path: data/processed/current_data.csv
      hash: md5
      md5: 4cf0166d741bf7f8c2779df43058ce9b
      size: 2517
    - path: data/processed/reference_data.csv
      hash: md5
      md5: 4cf0166d741bf7f8c2779df43058ce9b
      size: 2517
    - path: src/data/test_data.py
      hash: md5
      md5: 4256740bf0fb2af78e3c0bcd62108b4f
      size: 1071
    outs:
    - path: reports/data_drift_report.html
      hash: md5
      md5: 48970e53d70312413a16ef269de32847
      size: 3149198
  train_model:
    cmd: python src/models/train_model.py
    deps:
    - path: data/processed/train
      hash: md5
      md5: 20a20b192e6bb0432b45695478e9931e.dir
      size: 4760
      nfiles: 34
    - path: src/models/train_model.py
      hash: md5
      md5: 4762bdb5e0dd02e14d476f0fc34723b2
      size: 4075
    outs:
    - path: models/
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
