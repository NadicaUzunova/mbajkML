schema: '2.0'
stages:
  fetch:
    cmd: poetry run python src/data/fetch_data.py
    deps:
    - path: src/data/fetch_data.py
      hash: md5
      md5: 5867135077809f48fce60c83bb9fc0f9
      size: 6465
    outs:
    - path: data/raw
      hash: md5
      md5: dfe251678f3bb66ddbc4dacffd18dff1.dir
      size: 168615
      nfiles: 69
  preprocess:
    cmd: poetry run python src/data/preprocess_data.py
    deps:
    - path: data/raw
      hash: md5
      md5: dfe251678f3bb66ddbc4dacffd18dff1.dir
      size: 168615
      nfiles: 69
    - path: src/data/preprocess_data.py
      hash: md5
      md5: 0442e88ad2aafa41bdd5e3cc45e3d4e2
      size: 4855
    outs:
    - path: data/processed/combined
      hash: md5
      md5: e5316771bf43705f3e5d026904d80cf6.dir
      size: 2118667
      nfiles: 34
    - path: data/processed/mbajk
      hash: md5
      md5: 266159ac9c4f05fbddb175684349ebcd.dir
      size: 20499
      nfiles: 34
    - path: data/processed/weather
      hash: md5
      md5: 3c9ed97da7837cd64b27173537757b5c.dir
      size: 132749
      nfiles: 34
  split:
    cmd: poetry run python src/data/final_processing.py
    deps:
    - path: data/processed/combined
      hash: md5
      md5: e5316771bf43705f3e5d026904d80cf6.dir
      size: 2118667
      nfiles: 34
    - path: src/data/final_processing.py
      hash: md5
      md5: a6f312adc6982afb88ab0126cc06c9b5
      size: 1434
    outs:
    - path: data/processed/test
      hash: md5
      md5: abbf7dc412a64596bccd3c2103c2199a.dir
      size: 215447
      nfiles: 34
    - path: data/processed/train
      hash: md5
      md5: d0c238b016a1f9564fbc853b63c4506c.dir
      size: 1907980
      nfiles: 34
  reference_data:
    cmd: "dvc checkout data/processed/combined\ncp -r data/processed/combined data/processed/reference_data\n
      dvc pull\ncp -r data/processed/combined data/processed/current_data\n"
    deps:
    - path: data/processed/combined
      hash: md5
      md5: e5316771bf43705f3e5d026904d80cf6.dir
      size: 2118667
      nfiles: 34
    outs:
    - path: data/processed/current_data
      hash: md5
      md5: e5316771bf43705f3e5d026904d80cf6.dir
      size: 2118667
      nfiles: 34
    - path: data/processed/reference_data
      hash: md5
      md5: e5316771bf43705f3e5d026904d80cf6.dir
      size: 2118667
      nfiles: 34
  validate_and_test:
    cmd: poetry run python src/data/validate_and_test.py
    deps:
    - path: data/processed/current_data
      hash: md5
      md5: e5316771bf43705f3e5d026904d80cf6.dir
      size: 2118667
      nfiles: 34
    - path: data/processed/reference_data
      hash: md5
      md5: e5316771bf43705f3e5d026904d80cf6.dir
      size: 2118667
      nfiles: 34
    - path: src/data/validate_and_test.py
      hash: md5
      md5: 99f1b723fd83f6d858dde9784ff4a198
      size: 4630
    outs:
    - path: reports/
      hash: md5
      md5: a4e6f09686e6266a582aa32a5cedf875.dir
      size: 114419376
      nfiles: 68
  split_data:
    cmd: poetry run python src/data/split_data.py
    deps:
    - path: data/processed/current_data
      hash: md5
      md5: e5316771bf43705f3e5d026904d80cf6.dir
      size: 2118667
      nfiles: 34
    - path: src/data/split_data.py
      hash: md5
      md5: bd02b4c874c5cb7567129a20eade3536
      size: 1768
    outs:
    - path: data/processed/train_test_from_current/test
      hash: md5
      md5: e8e46d2219c1a2f46815e6db34a79ab6.dir
      size: 218576
      nfiles: 34
    - path: data/processed/train_test_from_current/train
      hash: md5
      md5: 44c54de58ca4abc580f97e4faa9bd30f.dir
      size: 1904851
      nfiles: 34
