schema: '2.0'
stages:
  fetch_data:
    cmd: python src/data/fetch_data.py
    deps:
    - path: src/data/fetch_data.py
      hash: md5
      md5: 5867135077809f48fce60c83bb9fc0f9
      size: 6465
    outs:
    - path: data/raw
      hash: md5
      md5: a7287b0226ff86379dba0a201537ba68.dir
      size: 133385
      nfiles: 69
  preprocess_and_combine:
    cmd: python src/data/preprocess_data.py
    deps:
    - path: data/raw
      hash: md5
      md5: a7287b0226ff86379dba0a201537ba68.dir
      size: 133385
      nfiles: 69
    - path: src/data/preprocess_data.py
      hash: md5
      md5: 0442e88ad2aafa41bdd5e3cc45e3d4e2
      size: 4855
    outs:
    - path: data/processed/combined
      hash: md5
      md5: 4477fb9c0d8de8caaceab87ecc4e0347.dir
      size: 2116361
      nfiles: 34
    - path: data/processed/mbajk
      hash: md5
      md5: 3549450a277d29871116263a5641ad87.dir
      size: 18807
      nfiles: 34
    - path: data/processed/weather
      hash: md5
      md5: ffdfd729bf04f2c3a6aa8556d03d19ba.dir
      size: 99755
      nfiles: 34
  final_processing:
    cmd: python src/data/final_processing.py
    deps:
    - path: data/processed/combined
      hash: md5
      md5: 4477fb9c0d8de8caaceab87ecc4e0347.dir
      size: 2116361
      nfiles: 34
    - path: src/data/final_processing.py
      hash: md5
      md5: e44f552aca4a1680161aebb0f1d65a67
      size: 1469
    outs:
    - path: data/processed/test
      hash: md5
      md5: 36da0e40f94fc6a0dac1cf77cfabecf6.dir
      size: 215132
      nfiles: 34
    - path: data/processed/train
      hash: md5
      md5: 09b1fdbe2b3b63eafc54746105fe2215.dir
      size: 1905989
      nfiles: 34
  generate_data_files:
    cmd: python src/data/generate_data_files.py
    deps:
    - path: data/processed/combined
      hash: md5
      md5: 4477fb9c0d8de8caaceab87ecc4e0347.dir
      size: 2116361
      nfiles: 34
    - path: src/data/generate_data_files.py
      hash: md5
      md5: bcf2aa855f3e73137871a6ea070f20be
      size: 1515
    outs:
    - path: data/processed/current_data.csv
      hash: md5
      md5: e332cc86495fac15f4195d5a891ea9bd
      size: 2111741
    - path: data/processed/reference_data.csv
      hash: md5
      md5: e332cc86495fac15f4195d5a891ea9bd
      size: 2111741
  validate_data:
    cmd: python src/data/validate_data.py
    deps:
    - path: data/processed/current_data.csv
      hash: md5
      md5: e332cc86495fac15f4195d5a891ea9bd
      size: 2111741
    - path: src/data/validate_data.py
      hash: md5
      md5: 1796ff17801b0d4449a56621fbf315f4
      size: 2171
    outs:
    - path: reports/current_data_validation_report.json
      hash: md5
      md5: e46cfa900767cf387eb645fe40c24817
      size: 10787
    - path: reports/reference_data_validation_report.json
      hash: md5
      md5: 8346d23405fee6339ba0c78ca377cea8
      size: 10787
  test_data:
    cmd: python src/data/test_data.py
    deps:
    - path: data/processed/current_data.csv
      hash: md5
      md5: e332cc86495fac15f4195d5a891ea9bd
      size: 2111741
    - path: data/processed/reference_data.csv
      hash: md5
      md5: e332cc86495fac15f4195d5a891ea9bd
      size: 2111741
    - path: src/data/test_data.py
      hash: md5
      md5: 4256740bf0fb2af78e3c0bcd62108b4f
      size: 1071
    outs:
    - path: reports/data_drift_report.html
      hash: md5
      md5: b35f911a7c1061068b5da56b6db348f9
      size: 4879947
  train_model:
    cmd: python src/models/train_model.py
    deps:
    - path: data/processed/train
      hash: md5
      md5: 09b1fdbe2b3b63eafc54746105fe2215.dir
      size: 1905989
      nfiles: 34
    - path: src/models/train_model.py
      hash: md5
      md5: 499acb5189b8024cc43f5e7d058850f5
      size: 3311
    outs:
    - path: models/
      hash: md5
      md5: 475077bfb752a95180ea78c78a239117.dir
      size: 2377812
      nfiles: 29
